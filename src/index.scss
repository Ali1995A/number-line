@tailwind base;
@tailwind components;
@tailwind utilities;

.nl-topbar {
	padding-top: env(safe-area-inset-top);
}

.nl-axis {
	touch-action: none;
	user-select: none;
	-webkit-user-select: none;
	-webkit-touch-callout: none;
	height: var(--nl-axis-h);
}

@layer base {
	html {
		font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", Roboto,
			"Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
	}
}

@layer components {
	.nl-main {
		padding-bottom: env(safe-area-inset-bottom);
	}

	.nl-card {
		@apply rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm;
	}

	.nl-axis-card {
		@apply flex flex-col;
		min-height: 0;
	}

	.nl-axis-card > .nl-axis {
		flex: 1 1 auto;
		min-height: 0;
	}

	.nl-btn {
		@apply inline-flex h-10 items-center justify-center rounded-xl border border-slate-200 bg-white px-3 text-sm font-medium text-slate-800 shadow-sm;
		@apply active:scale-[0.98] active:bg-slate-50;
	}

	.nl-btn-primary {
		@apply border-slate-900 bg-slate-900 text-white;
		@apply active:bg-slate-800;
	}

	.nl-input {
		@apply h-10 rounded-xl border border-slate-200 bg-white px-3 text-sm text-slate-900 shadow-sm outline-none;
		@apply focus:border-slate-400;
	}

	.nl-toggle {
		@apply inline-flex select-none items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 shadow-sm;
	}

	.nl-seg {
		@apply inline-flex overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm;
	}

	.nl-seg-btn {
		@apply h-10 px-3 text-sm font-medium text-slate-700;
		@apply active:bg-slate-50;
	}

	.nl-seg-btn-active {
		@apply bg-slate-900 text-white;
	}

	/* iOS-like switch */
	.nl-switch {
		appearance: none;
		width: 46px;
		height: 28px;
		border-radius: 999px;
		background: rgba(148, 163, 184, 0.55);
		position: relative;
		box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.12);
		transition: background 160ms ease;
	}

	.nl-switch::after {
		content: "";
		position: absolute;
		top: 3px;
		left: 3px;
		width: 22px;
		height: 22px;
		border-radius: 999px;
		background: white;
		box-shadow: 0 1px 2px rgba(15, 23, 42, 0.18);
		transition: transform 160ms ease;
	}

	.nl-switch:checked {
		background: rgba(34, 197, 94, 0.85);
	}

	.nl-switch:checked::after {
		transform: translateX(18px);
	}
}

:root {
	/* Default: big but balanced */
	--nl-axis-h: clamp(260px, 46vh, 440px);
}

@media (min-width: 768px) and (orientation: landscape) {
	:root {
		/* iPad 横屏：交互区尽量大 */
		--nl-axis-h: clamp(420px, 68vh, 720px);
	}

	.nl-main {
		padding-top: 12px;
		padding-bottom: 12px;
	}

	.nl-hint {
		display: none;
	}
}
