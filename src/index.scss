@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	/* Pink iOS-ish palette */
	--nl-pink: 236 72 153; /* pink-500 */
	--nl-pink-dark: 219 39 119; /* pink-600 */
	--nl-violet: 139 92 246; /* violet-500 */
	--nl-rose-bg: 255 241 242; /* rose-50 */
	--nl-surface: 255 255 255;
	--nl-border: 244 114 182; /* pink-400-ish */
	--nl-axis-h: clamp(260px, 46vh, 440px);
}

.nl-topbar {
	padding-top: env(safe-area-inset-top);
}

.nl-container {
	width: 100%;
	max-width: 64rem; /* ~= max-w-5xl */
	margin-left: auto;
	margin-right: auto;
	padding-left: calc(16px + env(safe-area-inset-left));
	padding-right: calc(16px + env(safe-area-inset-right));
}

.nl-axis {
	touch-action: none;
	user-select: none;
	-webkit-user-select: none;
	-webkit-touch-callout: none;
	height: var(--nl-axis-h);
}

@layer base {
	html {
		font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", Roboto,
			"Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
	}

	body {
		background: radial-gradient(1200px 800px at 20% 0%, rgba(var(--nl-pink), 0.10), transparent 55%),
			radial-gradient(900px 700px at 80% 20%, rgba(var(--nl-violet), 0.10), transparent 50%),
			rgb(var(--nl-rose-bg));
	}
}

@layer components {
	.nl-main {
		padding-bottom: env(safe-area-inset-bottom);
	}

	.nl-card {
		border: 1px solid rgba(var(--nl-border), 0.35);
		background: rgba(var(--nl-surface), 0.92);
		box-shadow: 0 1px 1px rgba(15, 23, 42, 0.04), 0 8px 24px rgba(236, 72, 153, 0.08);
		@apply rounded-2xl px-4 py-3;
	}

	.nl-axis-card {
		@apply flex flex-col;
		min-height: 0;
	}

	.nl-axis-card > .nl-axis {
		flex: 1 1 auto;
		min-height: 0;
	}

	.nl-btn {
		border: 1px solid rgba(var(--nl-border), 0.35);
		background: rgba(var(--nl-surface), 0.94);
		color: rgb(51, 65, 85);
		box-shadow: 0 1px 1px rgba(15, 23, 42, 0.04);
		@apply inline-flex h-10 items-center justify-center rounded-xl px-3 text-sm font-medium;
		@apply active:scale-[0.98];
	}

	.nl-btn-primary {
		border: 1px solid rgba(var(--nl-pink-dark), 0.55);
		background: linear-gradient(180deg, rgba(var(--nl-pink), 1) 0%, rgba(var(--nl-pink-dark), 1) 100%);
		color: white;
		box-shadow: 0 1px 1px rgba(15, 23, 42, 0.06), 0 10px 22px rgba(236, 72, 153, 0.28);
		text-shadow: 0 1px 0 rgba(15, 23, 42, 0.18);
	}

	.nl-input {
		border: 1px solid rgba(var(--nl-border), 0.35);
		background: rgba(var(--nl-surface), 0.92);
		@apply h-10 rounded-xl px-3 text-sm text-slate-900 shadow-sm outline-none;
		@apply focus:ring-2;
		box-shadow: 0 1px 1px rgba(15, 23, 42, 0.04);
	}

	.nl-toggle {
		border: 1px solid rgba(var(--nl-border), 0.35);
		background: rgba(var(--nl-surface), 0.92);
		@apply inline-flex select-none items-center gap-2 rounded-xl px-3 py-2 shadow-sm;
	}

	.nl-seg {
		border: 1px solid rgba(var(--nl-border), 0.35);
		background: rgba(var(--nl-surface), 0.92);
		@apply inline-flex overflow-hidden rounded-xl shadow-sm;
	}

	.nl-seg-btn {
		@apply h-10 px-3 text-sm font-medium text-slate-700;
		@apply active:bg-slate-50;
	}

	.nl-seg-btn-active {
		background: linear-gradient(180deg, rgba(var(--nl-pink), 1) 0%, rgba(var(--nl-pink-dark), 1) 100%);
		color: white;
	}

	/* iOS-like switch */
	.nl-switch {
		appearance: none;
		width: 46px;
		height: 28px;
		border-radius: 999px;
		background: rgba(148, 163, 184, 0.55);
		position: relative;
		box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.12);
		transition: background 160ms ease;
	}

	.nl-switch::after {
		content: "";
		position: absolute;
		top: 3px;
		left: 3px;
		width: 22px;
		height: 22px;
		border-radius: 999px;
		background: white;
		box-shadow: 0 1px 2px rgba(15, 23, 42, 0.18);
		transition: transform 160ms ease;
	}

	.nl-switch:checked {
		background: rgba(var(--nl-pink), 0.90);
	}

	.nl-switch:checked::after {
		transform: translateX(18px);
	}
}

@media (min-width: 768px) and (orientation: landscape) {
	:root {
		/* iPad 横屏：交互区尽量大 */
		--nl-axis-h: clamp(420px, 68vh, 720px);
	}

	.nl-container {
		max-width: none;
		padding-left: calc(18px + env(safe-area-inset-left));
		padding-right: calc(18px + env(safe-area-inset-right));
	}

	.nl-main {
		padding-top: 12px;
		padding-bottom: 12px;
	}

	.nl-hint {
		display: none;
	}
}
